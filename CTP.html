<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de temps de passage</title>
    <script src="CTP_script.js"></script>
    <link rel="stylesheet" href="CTP_style.css">
    <link rel="stylesheet" href="modal_style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
</head>

<body>
    <div class="title">Calculateur de temps de passage (v1.2  07.2023)</div>
    <br> 
    <div class="raceInfoContainer">
        <div class="form-group">
          <label class="label" for="raceName">Course:</label>
          <input class="larger-input" type="text" id="raceName" name="raceName">
        </div>
      
        <div class="form-group">
          <label class="sub-label" for="raceDate">Date:</label>
          <div class="input-container">
            <input class="input" type="date" id="raceDate" name="raceDate">
            <label class="sub-label" for="startTime">Départ:</label>
            <input class="input" type="text" id="startTime" name="startTime" placeholder='hh:mm' maxlength='5' onblur="formatTimeInput(this)">
          </div>
        </div>
    </div>
    <br> 
    <div class="button-container">
        <button class="centered-button"onclick="openModal('loadRace')">Charger</button>
        <button class="centered-button"onclick="openModal('saveRace')">Sauver</button>
    </div>


<!--     <div class="right-container">
        <div class="left-column">
            <div class="distance-container">
                <label for="distance">Distance</label>
                <input type="text" id="distance" name="distance">
            </div>
            <div class="dplus-container">
                <label for="d+">Dénivelé +</label>
                <input type="text" id="d+" name="d+">
            </div>
            <div class="dminus-container">
                <label for="d-">Dénivelé -</label>
                <input type="text" id="d-" name="d-">
            </div>
            <div class="kme-container">
                <label for="kme">Kilomètres-effort</label>
                <input type="text" id="kme" name="kme">
            </div>
        <div class="right-column">
            <div class="raceTime-container">
                <label for="raceTime">Temps de course</label>
                <input type="text" id="raceTime" name="raceTime">
            </div>
            <div class="stopTime-container">
                <label for="stopTime">Temps de pause</label>
                <input type="text" id="stopTime" name="stopTime">
            </div>
            <div class="totalTime-container">
                <label for="totalTime">Temps total</label>
                <input type="text" id="totalTime" name="totalTime">
            </div>
            <div class="arrivalTime-container">
                <label for="arrivalTime">Heure d'arrivée</label>
                <input type="text" id="arrivalTime" name="arrivalTime">
            </div>
        </div>
    </div> -->

    <br> 
    <div id="inputTableContainer" class="inputTableContainer">
        <table id="myTable">
            <tr>
                <th>Passage</th>
                <th>Distance</th>
                <th>Dénivelé positif</th>
                <th>Dénivelé négatif</th>
                <th>Type de ravito</th>
                <th>Barriere horaire</th>
                <th>Temps de pause</th>
                <th>Vitesse</th>
            </tr>
            <tr>
                <th> </th>
                <th>cumulée</th>
                <th>cumulé</th>
                <th>cumulé</th>
                <th> </th>
                <th> </th>
                <th> </th>
                <th> </th>
            </tr>
        </table>
    </div>
    <br>
    <div class="button-container">
        <button class="centered-button" onclick="addLine('myTable',empty)">Ajouter une ligne</button>
        <button class="centered-button" onclick="deleteLine('myTable')">Supprimer la dernière</button>
        <button class="centered-button" onclick="deleteEmptyRows('myTable')">Supprimer les lignes vides</button>
        <button class="centered-button" id="CTPButton" onclick="createOutputTable('myTable','resultTableContainer')">Calculer les temps de passage</button>
    </div>

    <p id="message"></p>
    <br>
    <div id="resultTableContainer" class="outputTableContainer printable"></div>
    <br>
    <div class="button-container">
        <button class="centered-button" onclick="window.print()">Imprimer la page</button>
        <button class="centered-button" id="printButton" onclick="printContent()">Imprimer le tableau de passage</button> 
    </div>

    <div id="saveRace" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('saveRace')">&times;</span>
            <div class="modal-heading">Enregistrer les points de passage</div>
            <div class="modal-message">Attention en cas de doublon le précédent parcours sera écrasé</div>
            <input class="modal-input" type="text" id="inputField" placeholder="nom du parcours">
            <button onclick="addItem('saveRace', 'myTable')">Sauver</button>
        </div>
    </div>

    <div id="loadRace" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('loadRace')">&times;</span>
            <div class="modal-heading">Charger les points de passage</div>
            <select id="listbox">
            </select>
            <button onclick="loadSelectedRace('loadRace')">Charger</button>
            <button onclick="deleteSelectedRace('loadRace')">Supprimer</button>
        </div>
    </div>

</body>
</html>
